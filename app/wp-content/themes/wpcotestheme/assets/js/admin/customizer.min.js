!function(t,e){"use strict";if(t&&t.customize){var i=t.customize;i.SFGuidedTourSteps=[],"undefined"!=typeof _wpCustomizeSFGuidedTourSteps&&e.extend(i.SFGuidedTourSteps,_wpCustomizeSFGuidedTourSteps),i.SFGuidedTour={$container:null,currentStep:-1,init:function(){this._setupUI()},_setupUI:function(){var t=this,i=e("body.wp-customizer .wp-full-overlay");this.$container=e("<div/>").addClass("sf-guided-tour"),i.prepend(this.$container),this._addListeners(),this.$container.css(e("body").hasClass("rtl")?"right":"left",e("#customize-controls").width()+10+"px").on("transitionend",(function(){t.$container.addClass("sf-loaded")})),this._showNextStep(),e(document).on("click",".sf-guided-tour-step .sf-nux-button",(function(){return t._showNextStep(),!1})),e(document).on("click",".sf-guided-tour-step .sf-guided-tour-skip",(function(){return 0===t.currentStep?t._hideTour(!0):t._showNextStep(),!1}))},_addListeners:function(){var t=this;i.state("expandedSection").bind((function(){t._adjustPosition()})),i.state("expandedPanel").bind((function(){t._adjustPosition()}))},_adjustPosition:function(){var t=this._getCurrentStep();if(t){this.$container.removeClass("sf-inside-section");var n=i.state("expandedSection").get(),s=i.state("expandedPanel").get();if(n&&t.section===n.id)this._moveContainer(e(n.container[1]).find(".customize-section-title")),this.$container.addClass("sf-inside-section");else if(!1===n&&!1===s)if(this._isTourHidden())this._revealTour();else{var o=this._getSelector(t.section);this._moveContainer(o)}else this._hideTour()}},_hideTour:function(t){var i=this;if(!this._isTourHidden()){var n=this.$container.offset();this.$container.css({transform:"",top:n.top}),e("body").addClass("sf-exiting").on("animationend.wpcotestheme webkitAnimationEnd.wpcotestheme",(function(){e(this).removeClass("sf-exiting").off("animationend.wpcotestheme webkitAnimationEnd.wpcotestheme").addClass("sf-hidden"),i.$container.hide(),void 0!==t&&!0===t&&i._removeTour()}))}},_revealTour:function(){var t=this;e("body").removeClass("sf-hidden"),t.$container.show();var i=this.$container.offset(),n=parseInt(i.top,10);e("body").addClass("sf-entering").on("animationend.wpcotestheme webkitAnimationEnd.wpcotestheme",(function(){e(this).removeClass("sf-entering").off("animationend.wpcotestheme webkitAnimationEnd.wpcotestheme"),t.$container.css({top:"auto",transform:"translateY("+n+"px)"})}))},_removeTour:function(){this.$container.remove()},_closeAllSections:function(){i.section.each((function(t){t.collapse({duration:0})})),i.panel.each((function(t){t.collapse({duration:0})}))},_showNextStep:function(){if(this._isLastStep())this._hideTour(!0);else{this._closeAllSections();var e=this._getNextStep();e.message=this._lineBreaksToParagraphs(e.message);var i=t.template("sf-guided-tour-step");this.$container.removeClass("sf-first-step"),0===this.currentStep&&(e.first_step=!0,this.$container.addClass("sf-first-step")),this._isLastStep()&&(e.last_step=!0,this.$container.addClass("sf-last-step")),this._moveContainer(this._getSelector(e.section)),this.$container.html(i(e))}},_moveContainer:function(t){var e=this;if(t){var i=parseInt(t.offset().top,10)+t.height()/2-44;this.$container.addClass("sf-moving").css({transform:"translateY("+i+"px)"}).on("transitionend.wpcotestheme",(function(){e.$container.removeClass("sf-moving"),e.$container.off("transitionend.wpcotestheme")}))}},_getSelector:function(t){var n=i.section(t)?i.section(t):i.panel(t);return e(void 0!==n?n.container[0]:t)},_getCurrentStep:function(){return i.SFGuidedTourSteps[this.currentStep]},_getNextStep:function(){return this.currentStep=this.currentStep+1,i.SFGuidedTourSteps[this.currentStep]},_isTourHidden:function(){return!!e("body").hasClass("sf-hidden")},_isLastStep:function(){return!(this.currentStep+1<i.SFGuidedTourSteps.length)},_lineBreaksToParagraphs:function(t){return"<p>"+t.replace("\n\n","</p><p>")+"</p>"}},e(document).ready((function(){i.SFGuidedTour.init()}))}}(window.wp,jQuery);
//# sourceMappingURL=customizer.min.js.map